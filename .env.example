# WhisperX Subtitle Service 環境配置
# 複製此檔案為 .env 並填入實際值

# === 必填 ===
# HuggingFace Token（用於 pyannote diarization）
# 獲取方式：https://huggingface.co/settings/tokens
HF_TOKEN=your_huggingface_token_here

# === Whisper 模型配置 ===
# 可選值：tiny, base, small, medium, large-v2, large-v3
MODEL_SIZE=large-v3

# 計算精度：float16 (快), float32 (精確), int8 (省記憶體)
COMPUTE_TYPE=float16

# 批次大小（根據 GPU 記憶體調整）
BATCH_SIZE=16

# === 長音檔處理 ===
# 分段長度（秒）
CHUNK_LENGTH_S=600

# 分段重疊（秒）
CHUNK_OVERLAP_S=2

# 最大音檔長度（秒，預設 4 小時）
MAX_AUDIO_LENGTH_S=14400

# === VAD 設定 ===
VAD_ENABLED=true
VAD_THRESHOLD=0.5

# === 字幕設定 ===
MAX_CHARS_PER_LINE=42
MAX_LINES_PER_SEGMENT=2

# === Redis（生產環境）===
REDIS_URL=redis://localhost:6379/0
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/1

# === 並發控制 ===
MAX_CONCURRENT_TASKS=4
TASK_TIMEOUT_S=3600
